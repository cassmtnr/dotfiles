# Starship prompt configuration
# https://starship.rs/config/

# Format of the prompt
format = """
$username\
$hostname\
$directory\
$git_branch\
$git_status\
$nodejs\
$python\
$docker_context\
$character """

# Disable newline at start of prompt
add_newline = false

# Wait up to 1000ms for commands to execute
command_timeout = 1000

# Directory module - shows current path
[directory]
truncation_length = 3
truncate_to_repo = true
format = "[$path]($style) "
style = "bold cyan"

# Git branch module
[git_branch]
symbol = "ğŸŒ± "
format = "on [$symbol$branch]($style) "
style = "bold purple"

# Git status module
[git_status]
format = '([\[$all_status$ahead_behind\]]($style) )'
conflicted = "âš”ï¸"
ahead = "â‡¡${count}"
behind = "â‡£${count}"
diverged = "â‡•â‡¡${ahead_count}â‡£${behind_count}"
untracked = "ğŸ†•"
stashed = "ğŸ“¦${count}"
modified = "ğŸ“"
staged = '[++\($count\)](green)'
renamed = "â¡ï¸"
deleted = "âŒ"

# Character module - success/error indicator
[character]
success_symbol = "[âœ](bold green)"
error_symbol = "[âœ](bold red)"

# Username module
[username]
style_user = "bold blue"
style_root = "bold red"
format = "[$user]($style) "
disabled = false
show_always = false

# Hostname module
[hostname]
ssh_only = true
format = "on [$hostname](bold yellow) "
disabled = false

# Node.js version
[nodejs]
format = "via [â¬¢ $version](bold green) "
detect_extensions = ["js", "mjs", "cjs", "ts", "tsx", "jsx"]
detect_files = ["package.json", ".node-version", ".nvmrc"]
detect_folders = ["node_modules"]

# Python version
[python]
format = 'via [ğŸ $version](bold yellow) '
detect_extensions = ["py"]
detect_files = [
	".python-version",
	"Pipfile",
	"pyproject.toml",
	"requirements.txt",
]


# Docker context
[docker_context]
format = 'via [ğŸ³ $context](blue bold) '
only_with_files = true
detect_files = ["docker-compose.yml", "docker-compose.yaml", "Dockerfile"]

# Duration of the last command
[cmd_duration]
min_time = 2_000
format = "took [$duration](bold yellow) "

# Memory usage
[memory_usage]
disabled = false
threshold = 75
format = "via $symbol [${ram_pct}](bold red) "

# Battery
[battery]
full_symbol = "ğŸ”‹"
charging_symbol = "âš¡ï¸"
discharging_symbol = "ğŸ’€"

[[battery.display]]
threshold = 30
style = "bold red"
